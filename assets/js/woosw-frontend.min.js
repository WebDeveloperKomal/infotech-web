'use strict';
(function(a) {
    var c = !0,
        o = [],
        b = Cookies.get('woosw_key');
    try { c = 'sessionStorage' in window && window.sessionStorage !== null, window.sessionStorage.setItem('woosw', 'test'), window.sessionStorage.removeItem('woosw') } catch (a) { c = !1 }
    a(function() {
        (b === null || b === void 0 || b === '') && (b = z(), Cookies.set('woosw_key', b, { expires: 7 })), v(), (a('.woosw-custom-menu-item').length || woosw_vars.reload_count === 'yes') && t(), woosw_vars.button_action === 'message' && a.notiny.addTheme('woosw', { notification_class: 'notiny-theme-woosw' })
    }), a(document).on('change', '.woosw-switcher-dropdown', function() { window.location = a(this).val() }), a(document).on('woosw_refresh_data', function() { p() }), a(document).on('woosw_refresh_count', function() { t() }), a(document).on('woovr_selected', function(e, d, f) {
        var c = d.attr('data-id'),
            b = d.attr('data-pid');
        c > 0 ? (a('.woosw-btn-' + b).attr('data-id', c).removeClass('woosw-btn-added woosw-added'), k(c)) : (a('.woosw-btn-' + b).attr('data-id', b).removeClass('woosw-btn-added woosw-added'), k(b))
    }), a(document).on('found_variation', function(c, b) {
        var d = a(c.target).attr('data-product_id');
        a('.woosw-btn-' + d).attr('data-id', b.variation_id).removeClass('woosw-btn-added woosw-added'), k(b.variation_id)
    }), a(document).on('reset_data', function(c) {
        var b = a(c.target).attr('data-product_id');
        a('.woosw-btn-' + b).attr('data-id', b).removeClass('woosw-btn-added woosw-added'), k(b)
    }), a(document).on('click touch', '#woosw_wishlist .woosq-link, #woosw_wishlist .woosq-btn', function(a) { m(), a.preventDefault() }), a(document).on('click touch', '.woosw-btn', function(p) {
        var b = a(this),
            e = b.attr('data-id'),
            j = b.attr('data-pid'),
            m = b.attr('data-product_id'),
            o = b.attr('data-product_name'),
            q = b.attr('data-product_image'),
            s;
        typeof j !== typeof void 0 && j !== !1 && (e = j), typeof m !== typeof void 0 && m !== !1 && (e = m), s = { action: 'woosw_add', product_id: e, nonce: woosw_vars.nonce }, b.hasClass('woosw-added') ? woosw_vars.button_action_added === 'page' ? window.location.href = woosw_vars.wishlist_url : a('#woosw_wishlist').hasClass('woosw-loaded') ? h() : n() : (b.addClass('woosw-adding').find('.woosw-btn-icon').removeClass(woosw_vars.button_normal_icon + ' ' + woosw_vars.button_added_icon).addClass(woosw_vars.button_loading_icon), a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_add'), s, function(j) { b.removeClass('woosw-adding').find('.woosw-btn-icon').removeClass(woosw_vars.button_loading_icon), woosw_vars.button_action === 'list' && (j.content != null && a('#woosw_wishlist').html(j.content).addClass('woosw-loaded'), j.notice != null && l(j.notice.replace('{name}', '<strong>' + o + '</strong>')), r(), h()), woosw_vars.button_action === 'message' && (a('#woosw_wishlist').removeClass('woosw-loaded'), a.notiny({ theme: 'woosw', position: woosw_vars.message_position, image: q, text: j.notice.replace('{name}', '<strong>' + o + '</strong>') })), woosw_vars.button_action === 'no' && a('#woosw_wishlist').removeClass('woosw-loaded'), j.count != null && d(j.count), j.status === 1 && k(e), c && j.data && sessionStorage.setItem('woosw_data_' + j.data.key, JSON.stringify(j.data)), j.data.fragments && g(j.data.fragments), j.data.ids && (i(j.data.ids), f(j.data.ids)), a(document.body).trigger('woosw_add', [e]) })), p.preventDefault()
    }), a(document).on('click touch', '.woosw-item--add span', function(j) {
        var b = a(this),
            k = b.closest('.woosw-items').data('key'),
            e = b.closest('.woosw-item'),
            h = e.attr('data-id'),
            m = e.attr('data-product_name'),
            n = { action: 'woosw_add', product_id: h, key: k, nonce: woosw_vars.nonce };
        b.addClass('woosw-item--adding'), a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_add'), n, function(e) { b.addClass('woosw-item--adding'), e.content != null && a('#woosw_wishlist').html(e.content).addClass('woosw-loaded'), e.notice != null && l(e.notice.replace('{name}', '<strong>' + m + '</strong>')), e.count != null && d(e.count), c && e.data && sessionStorage.setItem('woosw_data_' + e.data.key, JSON.stringify(e.data)), e.data.fragments && g(e.data.fragments), e.data.ids && (i(e.data.ids), f(e.data.ids)), a(document.body).trigger('woosw_add', [h]), b.closest('.woosw-list').length && location.reload() }), j.preventDefault()
    }), a(document).on('click touch', '.woosw-item--remove span', function(j) {
        var b = a(this),
            k = b.closest('.woosw-items').data('key'),
            e = b.closest('.woosw-item'),
            h = e.attr('data-id'),
            m = { action: 'woosw_remove', product_id: h, key: k, nonce: woosw_vars.nonce };
        b.addClass('woosw-item--removing'), a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_remove'), m, function(j) { b.removeClass('woosw-item--removing'), e.remove(), j.content != null && a('#woosw_wishlist').html(j.content).addClass('woosw-loaded'), j.notice != null && l(j.notice), j.count != null && d(j.count), c && j.data && sessionStorage.setItem('woosw_data_' + j.data.key, JSON.stringify(j.data)), j.data.fragments && g(j.data.fragments), j.data.ids && (i(j.data.ids), f(j.data.ids)), a(document.body).trigger('woosw_remove', [h]) }), j.preventDefault()
    }), a(document).on('click touch', '.woosw-empty', function(h) {
        var k = a(this),
            b, m;
        confirm(woosw_vars.empty_confirm) && (e(), b = k.data('key'), m = { action: 'woosw_empty', key: b, nonce: woosw_vars.nonce }, a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_empty'), m, function(e) { e.content != null && a('#woosw_wishlist').html(e.content).addClass('woosw-loaded'), e.notice != null && l(e.notice), e.count != null && d(e.count), c && e.data && sessionStorage.setItem('woosw_data_' + e.data.key, JSON.stringify(e.data)), e.data.fragments && g(e.data.fragments), e.data.ids && (i(e.data.ids), f(e.data.ids)), j(), a(document.body).trigger('woosw_empty', [b]) })), h.preventDefault()
    }), a(document).on('click touch', '.woosw-popup', function(b) {
        var c = a('.woosw-popup-content');
        a(b.target).closest(c).length == 0 && (m(), q())
    }), a(document).on('click touch', '.woosw-continue', function(c) {
        var b = a(this).attr('data-url');
        m(), b !== '' && (window.location.href = b), c.preventDefault()
    }), a(document).on('click touch', '#woosw_wishlist .woosw-popup-close', function(a) { m(), a.preventDefault() }), a(document).on('click touch', '#woosw_manage .woosw-popup-close', function(a) { q(), a.preventDefault() }), a(document).on('click touch', '.woosw-manage', function(b) {
        b.preventDefault(), e();
        var c = { action: 'woosw_manage_wishlists', nonce: woosw_vars.nonce };
        a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_manage_wishlists'), c, function(b) { m(), a('#woosw_manage').html(b), y(), j() })
    }), a(document).on('click touch', '#woosw_add_wishlist', function(d) {
        var b, c;
        d.preventDefault(), e(), b = a('#woosw_wishlist_name').val(), c = { action: 'woosw_add_wishlist', name: b, nonce: woosw_vars.nonce }, a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_add_wishlist'), c, function(b) { a('#woosw_manage').html(b), a('#woosw_wishlist').removeClass('woosw-loaded'), j() })
    }), a(document).on('click touch', '.woosw-set-default', function(l) {
        var b, h;
        l.preventDefault(), e(), b = a(this).data('key'), h = { action: 'woosw_set_default', key: b, nonce: woosw_vars.nonce }, a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_set_default'), h, function(b) { b.count != null && d(b.count), b.products != null && b.products.length && b.products.forEach(a => { k(a) }), a('#woosw_manage').html(b.content), c && b.data && sessionStorage.setItem('woosw_data_' + b.data.key, JSON.stringify(b.data)), b.data.fragments && g(b.data.fragments), b.data.ids && (i(b.data.ids), f(b.data.ids)), a('#woosw_wishlist').removeClass('woosw-loaded'), j() })
    }), a(document).on('click touch', '.woosw-delete-wishlist', function(d) {
        var b, c;
        d.preventDefault(), confirm(woosw_vars.delete_confirm) && (e(), b = a(this).data('key'), c = { action: 'woosw_delete_wishlist', key: b, nonce: woosw_vars.nonce }, a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_delete_wishlist'), c, function(b) { a('#woosw_manage').html(b), a('#woosw_wishlist').removeClass('woosw-loaded'), j() }))
    }), a(document).on('click touch', '.woosw-view-wishlist', function(d) {
        var b, c;
        d.preventDefault(), e(), b = a(this).data('key'), c = { action: 'woosw_view_wishlist', key: b, nonce: woosw_vars.nonce }, a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_view_wishlist'), c, function(b) { q(), a('#woosw_wishlist').removeClass('woosw-loaded').html(b), h(), j() })
    }), a(document).on('click touch', '.woosw-menu-item a, .woosw-menu a, .woosw-link.woosw-link-auto a', function(b) { woosw_vars.menu_action === 'open_popup' && (b.preventDefault(), a('#woosw_wishlist').hasClass('woosw-loaded') ? h() : n()) }), a(document).on('click touch', '.woosw-link.woosw-link-popup a', function(b) { b.preventDefault(), a('#woosw_wishlist').hasClass('woosw-loaded') ? h() : n() }), a(document).on('click touch', '.woocommerce-MyAccount-navigation-link--wishlist a', function(b) { woosw_vars.page_myaccount === 'yes_popup' && (b.preventDefault(), a('#woosw_wishlist').hasClass('woosw-loaded') ? h() : n()) }), a(document).on('click touch', '#woosw_copy_url, #woosw_copy_btn', function(d) {
        d.preventDefault();
        let b = a('#woosw_copy_url'),
            c = b.val();
        navigator.clipboard.writeText(c).then(function() { alert(woosw_vars.copied_text + ' ' + c) }, function() { alert('Failure to copy!') }), b.select()
    }), a(document).on('click touch', '.woosw-item--note', function() { a(this).closest('.woosw-item').find('.woosw-item--note-add').length && (a(this).closest('.woosw-item').find('.woosw-item--note-add').show(), a(this).hide()) }), a(document).on('click touch', '.woosw_add_note', function(h) {
        var b, c, d, f, g;
        h.preventDefault(), e(), b = a(this), c = b.closest('.woosw-items').data('key'), d = b.closest('.woosw-item').attr('data-id'), f = b.closest('.woosw-item').find('input[type="text"]').val(), g = { action: 'woosw_add_note', key: c, product_id: d, note: u(f), nonce: woosw_vars.nonce }, a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_add_note'), g, function(a) { b.closest('.woosw-item').find('.woosw-item--note').html(a).show(), b.closest('.woosw-item').find('.woosw-item--note-add').hide(), j() })
    }), a(window).on('resize', function() { s() });

    function n() {
        var b = { action: 'woosw_load', nonce: woosw_vars.nonce };
        a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_load'), b, function(b) { b.content != null && a('#woosw_wishlist').html(b.content), b.count != null && (a('#woosw_wishlist .woosw-items:not(.woosw-suggested-items) .woosw-item').length && a('#woosw_wishlist .woosw-items:not(.woosw-suggested-items) .woosw-item').length != b.count ? d(a('#woosw_wishlist .woosw-items:not(.woosw-suggested-items) .woosw-item').length) : d(b.count)), b.notice != null && l(b.notice), a('#woosw_wishlist').addClass('woosw-loaded'), r(), h() })
    }

    function t() {
        var b = { action: 'woosw_load_count', nonce: woosw_vars.nonce };
        a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_load_count'), b, function(b) {
            if (b.count != null) {
                var c = b.count;
                d(c), a(document.body).trigger('woosw_load_count', [c])
            }
        })
    }

    function h() { a('#woosw_wishlist').addClass('woosw-show'), s(), a(document.body).trigger('woosw_wishlist_show') }

    function m() { a('#woosw_wishlist').removeClass('woosw-show'), a(document.body).trigger('woosw_wishlist_hide') }

    function y() { a('#woosw_manage').addClass('woosw-show'), a(document.body).trigger('woosw_manage_show') }

    function q() { a('#woosw_manage').removeClass('woosw-show'), a(document.body).trigger('woosw_manage_hide') }

    function e() { a('.woosw-popup').addClass('woosw-loading') }

    function j() { a('.woosw-popup').removeClass('woosw-loading') }

    function d(b) { a('#woosw_wishlist .woosw-count').html(b), a('.woosw-link .woosw-link-inner').attr('data-count', b), parseInt(b) > 0 ? a('.woosw-empty').show() : a('.woosw-empty').hide(), a('.woosw-menu-item .woosw-menu-item-inner').length ? a('.woosw-menu-item .woosw-menu-item-inner').attr('data-count', b) : a('.woosw-menu-item a').html('<span class="woosw-menu-item-inner" data-count="' + b + '"><i class="woosw-icon"></i><span>' + woosw_vars.menu_text + '</span></span>'), a(document.body).trigger('woosw_change_count', [b]) }

    function l(b) { a('.woosw-notice').html(b), x(), setTimeout(function() { w() }, 3e3) }

    function x() { a('#woosw_wishlist .woosw-notice').addClass('woosw-notice-show') }

    function w() { a('#woosw_wishlist .woosw-notice').removeClass('woosw-notice-show') }

    function r() { woosw_vars.perfect_scrollbar === 'yes' && jQuery('#woosw_wishlist .woosw-popup-content-mid').perfectScrollbar({ theme: 'wpc' }) }

    function u(a) { return String(a).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;') }

    function z() { for (var a = [], b = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789', d = b.length, c = 0; c < 6; c++) a.push(b.charAt(Math.floor(Math.random() * d))); return a.join('') }

    function s() { jQuery('.woosw-popup-center .woosw-popup-content').height(2 * Math.floor(jQuery('.woosw-popup-center .woosw-popup-content').height() / 2) + 2) }

    function v() {
        if (c) try {
            var a = JSON.parse(sessionStorage.getItem('woosw_data_' + b));
            a.fragments && g(a.fragments), a.ids && (i(a.ids), f(a.ids)), a.key && (b === null || b === void 0 || b === '') && Cookies.set('woosw_key', a.key, { expires: 7 })
        } catch (a) { p() } else p()
    }

    function p() {
        var d = { action: 'woosw_get_data', nonce: woosw_vars.nonce };
        a.post(woosw_vars.wc_ajax_url.toString().replace('%%endpoint%%', 'woosw_get_data'), d, function(d) { d && (c && sessionStorage.setItem('woosw_data_' + d.key, JSON.stringify(d)), d.fragments && g(d.fragments), d.ids && (i(d.ids), f(d.ids)), d.key && (b === null || b === void 0 || b === '' || b !== d.key) && Cookies.set('woosw_key', d.key, { expires: 7 }), a(document.body).trigger('woosw_data_refreshed', [d])) })
    }

    function g(b) { a.each(b, function(b, c) { a(b).replaceWith(c) }), a(document.body).trigger('woosw_fragments_refreshed', [b]) }

    function f(a) { o = a }

    function i(b) { a('.woosw-btn').removeClass('woosw-btn-added woosw-added'), a('.woosw-btn:not(.woosw-btn-has-icon)').html(woosw_vars.button_text), a('.woosw-btn.woosw-btn-has-icon').find('.woosw-btn-icon').removeClass(woosw_vars.button_added_icon).addClass(woosw_vars.button_normal_icon), a('.woosw-btn.woosw-btn-has-icon').find('.woosw-btn-text').html(woosw_vars.button_text), a.each(b, function(c, b) { a('.woosw-btn-' + c).addClass('woosw-btn-added woosw-added'), a('.woosw-btn-' + c + ':not(.woosw-btn-has-icon)').html(woosw_vars.button_text_added), a('.woosw-btn-has-icon.woosw-btn-' + c).find('.woosw-btn-icon').removeClass(woosw_vars.button_normal_icon).addClass(woosw_vars.button_added_icon), a('.woosw-btn-has-icon.woosw-btn-' + c).find('.woosw-btn-text').html(woosw_vars.button_text_added), b.parent !== void 0 && (a('.woosw-btn-' + b.parent).addClass('woosw-btn-added woosw-added'), a('.woosw-btn-' + b.parent + ':not(.woosw-btn-has-icon)').html(woosw_vars.button_text_added), a('.woosw-btn-has-icon.woosw-btn-' + b.parent).find('.woosw-btn-icon').removeClass(woosw_vars.button_normal_icon).addClass(woosw_vars.button_added_icon), a('.woosw-btn-has-icon.woosw-btn-' + b.parent).find('.woosw-btn-text').html(woosw_vars.button_text_added)) }), a(document.body).trigger('woosw_buttons_refreshed', [b]) }

    function k(b) { a('.woosw-btn[data-id="' + b + '"]').removeClass('woosw-btn-added woosw-added'), a('.woosw-btn[data-id="' + b + '"]:not(.woosw-btn-has-icon)').html(woosw_vars.button_text), a('.woosw-btn-has-icon.woosw-btn[data-id="' + b + '"]').find('.woosw-btn-icon').removeClass(woosw_vars.button_added_icon).addClass(woosw_vars.button_normal_icon), a('.woosw-btn-has-icon.woosw-btn[data-id="' + b + '"]').find('.woosw-btn-text').html(woosw_vars.button_text), a.each(o, function(c) { parseInt(c) === parseInt(b) && (a('.woosw-btn[data-id="' + b + '"]').addClass('woosw-btn-added woosw-added'), a('.woosw-btn[data-id="' + b + '"]:not(.woosw-btn-has-icon)').html(woosw_vars.button_text_added), a('.woosw-btn-has-icon.woosw-btn[data-id="' + b + '"]').find('.woosw-btn-icon').removeClass(woosw_vars.button_normal_icon).addClass(woosw_vars.button_added_icon), a('.woosw-btn-has-icon.woosw-btn[data-id="' + b + '"]').find('.woosw-btn-text').html(woosw_vars.button_text_added)) }), a(document.body).trigger('woosw_refresh_button_id', [b, o]) }
})(jQuery)